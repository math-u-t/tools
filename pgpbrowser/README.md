# PGPbrowser - ブラウザPGP暗号化ツール

## 📖 概要

**ブラウザで直接PGP公開鍵暗号を実行**できる高機能ツールです。OpenPGP標準に対応した鍵生成、テキスト・ファイルの暗号化・復号化がすべてブラウザ内で安全に処理されます。

秘密鍵はあなたのパソコンに保存され、サーバーには一切送信されません。

**アクセス**: https://math-u-t.github.io/tools/pgpbrowser/

---

## ✨ 機能

### 🔑 PGP鍵ペア生成

OpenPGP標準に準拠した公開鍵・秘密鍵を生成します。

**特徴**:
- **複数の鍵タイプ対応**: RSA 4096ビット、RSA 2048ビット、ECC Curve25519
- **パスフレーズ保護**: 秘密鍵を暗号化して保護
- **ユーザー情報**: 名前とメールアドレスを指定可能
- **ダウンロード可能**: 鍵をファイルで保存可能

### 🔒 テキスト・ファイルの暗号化

受取人の公開鍵を使ってメッセージを暗号化します。

**機能**:
- **テキスト入力**: 直接テキストを入力
- **ファイルアップロード**: テキストファイルをアップロード
- **ドラッグ&ドロップ**: ファイルをドラッグして処理
- **結果出力**: 暗号化されたメッセージをコピー・ダウンロード

### 🔓 暗号化テキスト・ファイルの復号化

秘密鍵とパスフレーズを使ってメッセージを復号化します。

**機能**:
- **秘密鍵入力**: テキストまたはファイルで秘密鍵を入力
- **パスフレーズ**: 秘密鍵のパスフレーズを入力
- **復号化**: OpenPGP標準の暗号化メッセージに対応
- **出力**: 復号化されたメッセージを表示・ダウンロード

### 💾 鍵の管理

生成・保存した鍵ペアを一元管理できます。

**機能**:
- **自動保存**: LocalStorageで最大50組の鍵ペアを保存
- **クイックロード**: 保存済みの秘密鍵をワンクリック読み込み
- **公開鍵共有**: 保存済みの公開鍵をコピー
- **安全な削除**: 個別または全体削除が可能

---

## 🎯 使用方法

### 🔑 鍵ペアの生成

1. 「🔑 鍵生成」タブをクリック
2. ユーザー名を入力（例: "John Doe"）
3. メールアドレスを入力（例: "john@example.com"）
4. パスフレーズを入力（秘密鍵を保護するパスワード）
5. 鍵の種類を選択（推奨: RSA 4096ビット）
6. 「⚙️ 鍵ペアを生成」をクリック

**生成時間**: 数秒～数十秒（鍵の強度によって異なる）

### 🔒 テキスト・ファイルの暗号化

1. 「🔒 暗号化」タブをクリック
2. 受取人の公開鍵をペースト（またはファイルを読み込み）
3. 暗号化するテキストを入力（またはファイルをアップロード）
4. 「🔒 暗号化」をクリック
5. 暗号化されたテキストが表示される
6. 「📋 コピー」または「⬇️ ダウンロード」で共有

**受取人への送信方法**:
- メール、メッセージアプリで暗号化テキストを送信
- ファイル共有サービスでダウンロードしたファイルを共有
- チャットツールに直接ペースト

### 🔓 暗号化テキスト・ファイルの復号化

1. 「🔓 復号化」タブをクリック
2. 自分の秘密鍵をペースト（またはファイルを読み込み）
3. 秘密鍵のパスフレーズを入力
4. 暗号化されたテキストをペースト（またはファイルをアップロード）
5. 「🔓 復号化」をクリック
6. 復号化されたメッセージが表示される

**パスフレーズについて**:
- 鍵生成時に設定したパスフレーズを入力してください
- パスフレーズなしで生成した場合は、パスフレーズフィールドを空にしてください

### 💾 保存済み鍵の管理

1. 「💾 鍵管理」タブをクリック
2. 保存済み鍵の一覧が表示される
3. **読み込み**: 復号化タブに秘密鍵を読み込み
4. **公開鍵**: 公開鍵をクリップボードにコピー
5. **削除**: 個別に削除または全体削除

---

## 🔒 セキュリティとプライバシー

✅ **プライベート処理**:
- すべての処理がブラウザ内で実行
- 秘密鍵やテキストはサーバーに送信されない
- 暗号化・復号化はローカルで実行

✅ **標準準拠**:
- OpenPGP標準（RFC 4880）に完全準拠
- openpgp.jsライブラリ（Mozilla推奨）を使用
- 業界標準のアルゴリズム（RSA、ECC）対応

✅ **鍵の保護**:
- 秘密鍵はパスフレーズで暗号化
- LocalStorageの暗号化はブラウザが自動処理
- 秘密鍵の共有は自己責任

⚠️ **注意事項**:
- ブラウザキャッシュクリアでLocalStorageが削除される可能性
- 重要な秘密鍵はダウンロードして別途保存推奨
- パスフレーズは絶対に忘れないでください（復旧不可）
- 秘密鍵を他人と共有しないでください

---

## 📱 ブラウザ対応

| ブラウザ | OpenPGP | Blob API | LocalStorage | 対応状況 |
|---------|---|---|---|---------|
| Chrome/Edge | ✅ | ✅ | ✅ | ✅ 完全対応 |
| Firefox | ✅ | ✅ | ✅ | ✅ 完全対応 |
| Safari | ✅ | ✅ | ✅ | ✅ 完全対応 |
| Opera | ✅ | ✅ | ✅ | ✅ 完全対応 |

**必須**: モダンブラウザ（ES2020以降対応）

---

## 💡 ユースケース

### 🔐 安全な通信
- **メール暗号化**: 機密メールを公開鍵で暗号化
- **チャット**: メッセージングアプリで秘密鍵で復号化
- **ファイル共有**: クラウドストレージのファイルを暗号化

### 🔒 データ保護
- **個人情報**: 氏名、住所、電話番号などを暗号化
- **財務情報**: 銀行口座、クレジットカード情報を保護
- **パスワード**: パスワード管理ツールのバックアップを暗号化

### 📝 電子署名（将来版）
- **ドキュメント署名**: 文書の真正性確認
- **ソフトウェア署名**: 配布ファイルの検証

### 🤝 チーム協業
- **秘密保持**: チーム内の機密情報を共有
- **セキュア配布**: ソースコードやドキュメントの安全な配信
- **アクセス管理**: 複数の受取人に異なる鍵で暗号化

---

## 🌐 技術仕様

### 使用ライブラリ

| ライブラリ | 説明 |
|----------|------|
| openpgp.js | OpenPGP JavaScript実装（Mozilla推奨） |

### 対応アルゴリズム

| タイプ | アルゴリズム |
|-------|----------|
| 鍵生成 | RSA-2048, RSA-4096, ECC-25519 |
| 暗号化 | AES-128, AES-256 |
| ハッシュ | SHA-256, SHA-512 |
| 圧縮 | ZIP |

### パフォーマンス

| 項目 | 仕様 |
|------|------|
| 鍵生成（RSA-4096） | 10～30秒 |
| 鍵生成（ECC） | 1～5秒 |
| 暗号化 | <1秒（1MB以下） |
| 復号化 | <1秒（1MB以下） |
| LocalStorage容量 | 5～10MB（50組の鍵まで） |

### ファイルサイズ制限

- **推奨**: 1MB以下
- **最大**: 10MB程度（ブラウザメモリに依存）
- **大容量ファイル**: テキストエディタなどで分割して処理

---

## ⚙️ 設定・カスタマイズ

### 鍵タイプの選択

| タイプ | 特徴 | 推奨用途 |
|-------|------|--------|
| RSA 4096ビット | 高セキュリティ、生成時間が長い | 長期的な重要情報 |
| RSA 2048ビット | 標準セキュリティ、高速 | 一般的な用途 |
| ECC | 最新標準、最速 | 新規鍵生成 |

### パスフレーズ設定のコツ

✅ **良いパスフレーズ**:
- 12文字以上
- 大文字、小文字、数字、記号を混在
- 辞書にない単語の組み合わせ

❌ **避けるべきパスフレーズ**:
- 生年月日
- 名前や単語
- 連続する数字や文字

---

## 📝 変更履歴

### v1.0.0 (2026-01-07)
- 初版リリース
- 鍵ペア生成機能
- 暗号化・復号化機能
- 鍵管理機能
- LocalStorage対応

---

## ❓ よくある質問（FAQ）

**Q: PGPとは何ですか？**
A: Pretty Good Privacy（PGP）は公開鍵暗号システムです。2つの鍵（公開鍵と秘密鍵）を使い、安全に情報を暗号化・復号化できます。

**Q: 秘密鍵は本当にサーバーに送信されないですか？**
A: はい。すべての暗号化・復号化処理はブラウザ内で実行されます。秘密鍵があなたのパソコンを離れることはありません。

**Q: パスフレーズを忘れたらどうしますか？**
A: パスフレーズはリセットできません。秘密鍵から復旧することも不可能です。新しい鍵ペアを生成してください。

**Q: 鍵ペアの有効期限はありますか？**
A: このツールで生成した鍵には有効期限がありません。ただし、セキュリティのため年1回の鍵更新を推奨します。

**Q: 大きなファイルを暗号化できますか？**
A: ブラウザのメモリに限界があります。推奨は1MB以下、最大10MB程度です。それ以上は分割して処理してください。

**Q: 公開鍵は安全に共有できますか？**
A: はい。公開鍵は公開しても安全です。メール、SNS、Webサイトなどどこで共有しても問題ありません。

**Q: 秘密鍵をバックアップできますか？**
A: はい。「⬇️ 秘密鍵をダウンロード」で保存できます。ただし、安全な場所に保管してください。

**Q: 既存のPGP鍵を使えますか？**
A: はい。他のツール（GnuPG等）で生成した鍵をペーストして使用できます。

---

## 🤝 サポート

問題が発生した場合は、[GitHub Issues](https://github.com/math-u-t/tools/issues)で報告してください。

---

## 📄 ライセンス

MIT License

---

## 🔗 関連リンク

- [OpenPGP.js](https://openpgpjs.org/)
- [RFC 4880 - OpenPGP Message Format](https://tools.ietf.org/html/rfc4880)
- [GnuPG](https://gnupg.org/)
